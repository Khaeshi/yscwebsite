import{j as s}from"./jsx-runtime.D_zvdyIk.js";import{r as a}from"./index.DU3vxRAH.js";const b=({isActivated:l=!1})=>{const[f,h]=a.useState(!1),[y,m]=a.useState(""),i=a.useRef(null),u=a.useRef(void 0),d=()=>{i.current&&(i.current.width=window.innerWidth,i.current.height=window.innerHeight)};return a.useEffect(()=>{if(!l)return;const t=()=>{const o=new Date,r=new Date(o.getFullYear()+1,0,1).getTime()-o.getTime();if(r<=0){m("Happy New Year!"),h(!0);return}const e=Math.floor(r/(1e3*60*60*24)),c=Math.floor(r%(1e3*60*60*24)/(1e3*60*60)),g=Math.floor(r%(1e3*60*60)/(1e3*60)),x=Math.floor(r%(1e3*60)/1e3);m(`${e}d ${c}h ${g}m ${x}s`)};t();const n=setInterval(t,1e3);return()=>clearInterval(n)},[l]),a.useEffect(()=>{if(!l||!f||!i.current)return;const t=i.current,n=t.getContext("2d");if(!n)return;const o=[],w=(e,c)=>({x:e,y:c,vx:(Math.random()-.5)*10,vy:(Math.random()-.5)*10,life:100}),r=()=>{if(n.clearRect(0,0,t.width,t.height),o.forEach((e,c)=>{e.x+=e.vx,e.y+=e.vy,e.life--,e.life<=0&&o.splice(c,1),n.beginPath(),n.arc(e.x,e.y,2,0,Math.PI*2),n.fillStyle=`hsl(${Math.random()*360}, 100%, 50%)`,n.fill()}),o.length<100)for(let e=0;e<5;e++)o.push(w(Math.random()*t.width,Math.random()*t.height));u.current=requestAnimationFrame(r)};return d(),window.addEventListener("resize",d),r(),()=>{window.removeEventListener("resize",d),u.current&&cancelAnimationFrame(u.current)}},[l,f]),l?s.jsx("div",{className:`overlay ${f?"show":""}`,style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,opacity:0,visibility:"hidden",transition:"opacity 0.5s, visibility 0.5s"},children:s.jsxs("div",{className:"overlay-content",style:{textAlign:"center",color:"white",fontFamily:"Arial, sans-serif"},children:[s.jsx("h1",{style:{fontSize:"3em",marginBottom:"20px"},children:"Happy New Year!"}),s.jsx("div",{id:"countdown",style:{fontSize:"2em",marginBottom:"20px"},children:y}),s.jsx("canvas",{ref:i,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",pointerEvents:"none"}}),s.jsx("button",{onClick:()=>h(!1),style:{background:"#ff4500",color:"white",border:"none",padding:"10px 20px",fontSize:"1em",cursor:"pointer",marginTop:"20px"},onMouseOver:t=>t.currentTarget.style.background="#ff6347",onMouseOut:t=>t.currentTarget.style.background="#ff4500",children:"Close"})]})}):null};export{b as default};
